# Server
server.port=8080
spring.application.name=automatch-payments

# DB
spring.datasource.url=jdbc:postgresql://postgres:5432/automatch_payments
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Swagger
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Kafka (dev)
spring.kafka.bootstrap-servers=kafka:9092
spring.kafka.producer.acks=all
spring.kafka.producer.properties.enable.idempotence=true
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.properties.spring.json.add.type.headers=false
logging.level.org.apache.kafka=OFF
payments.kafka.enabled=true

# Tópicos
payments.kafka.topic.confirmed=payments.confirmed
payments.kafka.topic.refunded=payments.refunded
payments.kafka.topic.fraud=payments.fraud

# PSP / SUNAT (dummy)
psp.provider=stripe
psp.stripe.apiKey=${STRIPE_API_KEY:sk_test_dummy}
psp.currency=PEN
sunat.baseUrl=https://api.sunat.example
sunat.clientId=${SUNAT_CLIENT_ID:dummy}
sunat.clientSecret=${SUNAT_CLIENT_SECRET:dummy}
sunat.emitter.ruc=${SUNAT_EMITTER_RUC:20123456789}

# IMPORTANTE: SIN JWT EN DEV
# NO pongas spring.security.oauth2.resourceserver.jwt.public-key-location aquí
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration